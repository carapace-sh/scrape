# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: goreleaser
description: Release engineering, simplified
persistentflags:
    --verbose: Enable verbose mode
commands:
    - name: build
      aliases:
        - b
      description: Builds the current project
      flags:
        --auto-snapshot: Automatically sets --snapshot if the repository is dirty
        --clean: Removes the 'dist' directory before building
        --deprecated&: Force print the deprecation message - tests only
        --id*=: Builds only the specified build ids
        --single-target: Builds only for current GOOS and GOARCH, regardless of what's set in the configuration file
        --skip*=: 'Skip the given options (valid options are: before, post-hooks, pre-hooks, validate)'
        --snapshot: Generate an unversioned snapshot build, skipping all validations
        --timeout=: Timeout to the entire build process
        -f, --config=: Load configuration from file
        -o, --output=: Copy the binary to the path after the build. Only taken into account when using --single-target and a single id (either with --id or if configuration only has one build)
        -p, --parallelism=: 'Number of tasks to run concurrently (default: number of CPUs)'
    - name: check [configuration files]
      aliases:
        - c
      description: Checks if configuration is valid
      flags:
        --deprecated&: Force print the deprecation message - tests only
        -f, --config&=: Configuration file(s) to check
        -q, --quiet: 'Quiet mode: no output'
    - name: completion
      description: Generate the autocompletion script for the specified shell
      commands:
        - name: bash
          description: Generate the autocompletion script for bash
          flags:
            --no-descriptions: disable completion descriptions
        - name: fish
          description: Generate the autocompletion script for fish
          flags:
            --no-descriptions: disable completion descriptions
        - name: powershell
          description: Generate the autocompletion script for powershell
          flags:
            --no-descriptions: disable completion descriptions
        - name: zsh
          description: Generate the autocompletion script for zsh
          flags:
            --no-descriptions: disable completion descriptions
    - name: docs
      description: Generates GoReleaser's command line docs
      hidden: true
    - name: healthcheck
      aliases:
        - hc
      description: Checks if needed tools are installed
      flags:
        -f, --config=: Configuration file
        -q, --quiet: 'Quiet mode: no output'
    - name: help [command]
      description: Help about any command
    - name: init
      aliases:
        - i
      description: Generates a .goreleaser.yaml file
      flags:
        -f, --config=: Load configuration from file
        -l, --language=: Which language will be used
    - name: jsonschema
      aliases:
        - schema
      description: Outputs goreleaser's JSON schema
      flags:
        -o, --output=: Where to save the JSONSchema file
    - name: man
      description: Generates GoReleaser's command line manpages
      hidden: true
    - name: man
      description: Generates manpages
      hidden: true
    - name: release
      aliases:
        - r
      description: Releases the current project
      flags:
        --auto-snapshot: Automatically sets --snapshot if the repository is dirty
        --clean: Removes the 'dist' directory
        --deprecated&: Force print the deprecation message - tests only
        --draft: Whether to set the release to draft. Overrides release.draft in the configuration file
        --fail-fast: Whether to abort the release publishing on the first error
        --release-footer-tmpl=: Load custom release notes footer from a templated markdown file (overrides --release-footer)
        --release-footer=: Load custom release notes footer from a markdown file
        --release-header-tmpl=: Load custom release notes header from a templated markdown file (overrides --release-header)
        --release-header=: Load custom release notes header from a markdown file
        --release-notes-tmpl=: Load custom release notes from a templated markdown file (overrides --release-notes)
        --release-notes=: Load custom release notes from a markdown file (will skip GoReleaser changelog generation)
        --skip*=: Skip the given options (valid options are announce, archive, aur, aur-source, before, chocolatey, docker, homebrew, ko, makeself, mcp, nfpm, nix, notarize, publish, sbom, scoop, sign, snapcraft, validate, winget)
        --snapshot: Generate an unversioned snapshot release, skipping all validations and without publishing any artifacts (implies --skip=announce,publish,validate)
        --timeout=: Timeout to the entire release process
        -f, --config=: Load configuration from file
        -p, --parallelism=: 'Amount tasks to run concurrently (default: number of CPUs)'
